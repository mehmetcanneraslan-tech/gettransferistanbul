# Internationalization (i18n) Guide

## Overview

The application uses a custom, lightweight i18n system built with React Context. No external i18n libraries are needed.

## How It Works

### Architecture

```
Context (LanguageProvider)
    ‚Üì
Custom Hook (useI18n)
    ‚Üì
Components use t.key.subkey
```

### File Structure

```
src/i18n/
‚îú‚îÄ‚îÄ tr.ts          # Turkish translations
‚îú‚îÄ‚îÄ en.ts          # English translations
‚îú‚îÄ‚îÄ de.ts          # German translations
‚îú‚îÄ‚îÄ fr.ts          # French translations
‚îú‚îÄ‚îÄ it.ts          # Italian translations
‚îî‚îÄ‚îÄ index.ts       # Language registry & types
```

## Usage in Components

### Basic Usage

```typescript
import { useI18n } from '../context/LanguageProvider';

function MyComponent() {
  const { t } = useI18n();

  return (
    <div>
      <h1>{t.nav.home}</h1>
      <p>{t.hero.subtitle}</p>
    </div>
  );
}
```

### Changing Language

```typescript
import { useI18n } from '../context/LanguageProvider';

function LanguageSelector() {
  const { language, setLanguage } = useI18n();

  return (
    <button onClick={() => setLanguage('de')}>
      Deutsch
    </button>
  );
}
```

### Getting Current Language

```typescript
const { language } = useI18n();  // 'tr', 'en', 'de', 'fr', or 'it'
```

## Translation File Format

Each language file exports a default object with the same structure:

```typescript
export default {
  nav: {
    home: "Home",
    services: "Services",
    // ...
  },
  hero: {
    title: "Title text",
    subtitle: "Subtitle text",
    // ...
  },
  form: {
    // Form fields
  },
  // ... more sections
};
```

### Required Sections

Every translation file must include:

1. `nav` - Navigation menu items
2. `cashOnly` - Cash payment warning
3. `hero` - Hero section text
4. `form` - Form labels and messages
5. `confirm` - Confirmation modal
6. `whyUs` - Feature highlights
7. `services` - Service descriptions
8. `pricing` - Pricing section
9. `faq` - Frequently asked questions
10. `contact` - Contact information labels
11. `footer` - Footer content
12. `toast` - Notification messages

## Adding a New Language

### Step 1: Create Translation File

Create `src/i18n/XX.ts` (replace XX with language code):

```typescript
export default {
  nav: {
    home: "Translated text",
    services: "Translated text",
    pricing: "Translated text",
    faq: "Translated text",
    contact: "Translated text",
    book: "Translated text"
  },
  // ... copy structure from en.ts and translate all strings
};
```

### Step 2: Register Language

Update `src/i18n/index.ts`:

```typescript
import XX from './XX';

// Add to Language type
export type Language = 'tr' | 'en' | 'de' | 'fr' | 'it' | 'XX';

// Add to languages object
export const languages: Record<Language, { name: string; flag: string }> = {
  tr: { name: 'T√ºrk√ße', flag: 'üáπüá∑' },
  en: { name: 'English', flag: 'üá¨üáß' },
  de: { name: 'Deutsch', flag: 'üá©üá™' },
  fr: { name: 'Fran√ßais', flag: 'üá´üá∑' },
  it: { name: 'Italiano', flag: 'üáÆüáπ' },
  XX: { name: 'Language Name', flag: 'üèÅ' }  // Add your language
};

// Add to translations object
export const translations = {
  tr,
  en,
  de,
  fr,
  it,
  XX  // Add your language
};
```

### Step 3: Test

1. Start dev server: `npm run dev`
2. Click language dropdown in navigation
3. Select your new language
4. Verify all text changes correctly
5. Check browser console for errors

## Translation Tips

### 1. Maintain Key Structure

All language files must have identical keys:

```typescript
// ‚úÖ Correct - Same structure
en.ts: { nav: { home: "Home" } }
de.ts: { nav: { home: "Startseite" } }

// ‚ùå Wrong - Different structure
en.ts: { nav: { home: "Home" } }
de.ts: { navigation: { home: "Startseite" } }
```

### 2. Handle Long Text

Some languages need more space:

```typescript
// German text is often longer
de: {
  form: {
    submit: "Buchungsanfrage Senden"  // Longer than "Submit"
  }
}
```

Test UI with longer text to ensure layouts don't break.

### 3. Context Matters

Translate based on context:

```typescript
// "Book" can mean different things
nav: {
  book: "Book Now"  // Action button
},
form: {
  book: "Booking"   // Noun/title
}
```

### 4. Formal vs Informal

Choose appropriate formality:

```typescript
// German formal (Sie) vs informal (Du)
de: {
  hero: {
    subtitle: "Sie erhalten..." // Formal for business
    // subtitle: "Du erh√§ltst..." // Informal
  }
}
```

### 5. Numbers and Formats

Handle locale-specific formats:

```typescript
// Date formats vary by language
en: "Date: MM/DD/YYYY"
de: "Datum: DD.MM.YYYY"

// Currency placement
en: "$100"
de: "100 ‚Ç¨"
```

## Language Persistence

Language preference is saved in `localStorage`:

```typescript
// Key: 'airport-transfer-language'
// Value: 'tr' | 'en' | 'de' | 'fr' | 'it'

// User's choice persists across sessions
```

To clear saved language:
```javascript
localStorage.removeItem('airport-transfer-language');
```

## SEO Considerations

### HTML lang Attribute

The app automatically updates the `<html lang>` attribute:

```typescript
// In LanguageProvider.tsx
useEffect(() => {
  document.documentElement.lang = language;
}, [language]);
```

### Multi-Language SEO

For better SEO with multiple languages:

1. **Option 1: Subdirectories** (recommended)
   - yoursite.com/en/
   - yoursite.com/de/
   - yoursite.com/fr/

2. **Option 2: Subdomains**
   - en.yoursite.com
   - de.yoursite.com
   - fr.yoursite.com

3. **Add hreflang tags** to `index.html`:
```html
<link rel="alternate" hreflang="en" href="https://yoursite.com/en/" />
<link rel="alternate" hreflang="de" href="https://yoursite.com/de/" />
<link rel="alternate" hreflang="x-default" href="https://yoursite.com/" />
```

## Common Issues

### Issue: Missing Translations

**Error**: Property doesn't exist on type
**Fix**: Ensure all language files have identical structure

```typescript
// Check all files have the same keys
npm run typecheck  // Will catch missing keys
```

### Issue: Language Not Switching

**Problem**: UI doesn't update when language changes
**Fix**: Ensure component uses `useI18n()` hook

```typescript
// ‚ùå Wrong - Static import
import en from '../i18n/en';

// ‚úÖ Correct - Use hook
const { t } = useI18n();
```

### Issue: Default Language

To change the default language from English:

```typescript
// src/context/LanguageProvider.tsx
const [language, setLanguageState] = useState<Language>(() => {
  const stored = localStorage.getItem(STORAGE_KEY);
  return (stored as Language) || 'tr';  // Change 'en' to your default
});
```

## Performance

The i18n system is highly performant:

- **No external dependencies**: Zero bundle size overhead
- **Direct object access**: No translation parsing
- **Context-based**: Minimal re-renders
- **Type-safe**: Compile-time validation

Bundle impact: ~50KB for all 5 languages (uncompressed)

## Migration to i18next (Optional)

If you need advanced features (pluralization, interpolation, etc.), migrate to i18next:

```bash
npm install react-i18next i18next
```

See [i18next documentation](https://react.i18next.com/) for migration guide.

## Best Practices

1. **Always use the hook**: Never import translation files directly
2. **Test all languages**: Switch between languages regularly
3. **Keep translations updated**: When adding new features, update all language files
4. **Use descriptive keys**: Make keys self-documenting
5. **Group related translations**: Use nested objects for organization
6. **Document special cases**: Add comments for unusual translations

## Resources

- [ISO 639-1 Language Codes](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)
- [Country Flag Emojis](https://emojipedia.org/flags/)
- [React Context API](https://react.dev/reference/react/useContext)

---

Need help? Check the `README.md` or `QUICKSTART.md` for more information.
